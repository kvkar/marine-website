<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dynamic Form</title>
  <style>
    body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

form {
    max-width: 400px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

label {
    display: block;
    margin-bottom: 8px;
}

input {
    width: 100%;
    padding: 8px;
    margin-bottom: 16px;
    box-sizing: border-box;
}

button {
  background-color: #2196f3; /* Blue color */
   color: #fff;
   padding: 12px;
   border: none;
   border-radius: 4px;
   cursor: pointer;
   transition: background-color 0.3s ease-in-out;
}
button:hover {
     background-color: #0d47a1; /* Darker blue on hover */
   }
*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
body{
 /* background-size: 100vh;
  background-size: 100vw; */
 background-repeat: no-repeat;
 background-position: fixed;
 margin-top: -60px;
  /* background-color: #FDBF60; */
  background-image: url(https://img.freepik.com/free-vector/abstract-luxury-beautiful-decorative-yellow-background_1055-6454.jpg?w=740&t=st=1707387897~exp=1707388497~hmac=dea76bc528c440d17792d66c850127cf88c56c0bd540e18f9ec82ef2819d88df);

}
h1{
  text-align: center;
    text-decoration: underline;
    position: sticky;
    top: 0;
    background-color: #ffffff;
    padding: 10px;
    margin: 0;
    z-index: 100;
}
.container{
    max-width: 900px;
    margin: 0 auto;
    margin-bottom: 20px;
}
.apply_box{
    max-width: 600px;
    padding: 20px;
    background-color: rgba(1, 1, 1, 3, 3);;
    margin: 0 auto;
    margin-top: 50px;
    box-shadow: 4px 3px 5px rgba(1, 1, 1, 0.1, 0.1);
    border-radius: 10px;
}
.form_control{
    display: flex;
    flex-direction: column;
}
label{
    font-size: 15px;
    margin-bottom: 5px;
    margin-top: 20px;
    font-weight: bold;
    text-transform: uppercase;
}
input,
textarea{
padding: 6px 10px;
border: 1px solid #ccc;
border-radius: 4px;
font-size: 15px;
}
inpu:focus{
    outline-color: blue;
}
.button_container{
    display: flex;
    justify-content: end;
    margin-top: 20px;

    position: relative;
    bottom: 8px;
}
/* button{
    background-color: rgba(16, 16, 212, 0.742);
    border: transparent solid 2px;
    padding: 8px 20px 8px ;
    color: white;
    border-radius: 8px;
    transition: 0.3 ease-in;
}
button:hover{
    background-color: #ccc;
    border: 2px solid rgba(16, 16, 212, 0.742);
    color: black;
    transition: 0.3s ease-out;
    cursor: pointer; */
/* } */
.textarea_control{
    margin-top: 20px;
    margin-bottom: 5px;
    grid-column: 1 /span 2;
}
.textarea_control textarea{
    width: 100%;
}
@media(max-width:460px){
    .textarea_control{
        grid-column: 1 /span 1;
    }
}
.required {
  color: red;
}
.card{
  position: relative;
  max-width: 900px;
  margin: 0 auto;
 margin-top: 130px;
  margin-bottom: 20px;
  border: 8px solid black;
  background-color: white;
  border-radius: 2%;
  width: 400px;
  height: 600px;
  overflow-y: scroll;
}

select{
  padding: 8px;
  border-radius: 5%;
}

.card-body{
  margin-top: -20px;
}
::-webkit-scrollbar{
  width: 3px;
}
.hidden {
  display: none;
}
/* Popup styles */
   .popup {
     display: none;
     position: fixed;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%);
     padding: 20px;
     background-color: #ffffff;
     border-radius: 8px;
     box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
     z-index: 200;
   }

    /* Add your inline styles here */
  </style>
</head>
<body>

  <div class="form">
    <div class="card" style="width: 30rem;">

      <div class="card-body">
        <form method="post" action="https://script.google.com/macros/s/AKfycby40IQc_8qfv4YflKZVdDlAeDH036j5MRrtf2qMTol525LwFi4S6aJnvJQ7kuLYRV02/exec" name="submit-to-google-sheet" id="contactform">

          <div class="apply_box">
            <h1>Vedamayee Form</h1>

            <div class="form_container">
              <div class="row">
                <div class="col-md-6">
                  <div class="form_control">
                    <label for="gothram"><b>Gothram/గోత్రం</b><span class="required">*</span></label>
                    <input id="gothram" name="Gothram" placeholder="Enter Gothram" required>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12">
                  <div class="form_control">
                    <label for="Name"><b>Name/పేరు</b> <span class="required">*</span></label>
                    <input id="Name" name="Name" placeholder="Enter Name...." required>
                  </div>
                </div>
              </div>


              <div class="row">
                <div class="col-md-6">
                  <div class="form_control">
                    <label><b>Nakshtram :</b></label>
                    <select class="" name="Nakshtram" aria-label="Select Nakshtram">
                      <option value="select"> -- select--</option>
                      <option value="Aswini">అశ్విని Aswini</option>
                      <option value="Bharani">భరణి Bharani</option>
                <option value="Krutthika">కృత్తిక Krutthika</option>
                <option value="Rohini">రోహిణి Rohini</option>
                <option value="Mrugasira">మృగశిర Mrugasira</option>
                <option value="Aarddha">ఆర్ధ / ఆరుద్ర Aarddha/ Aarudra</option>
                <option value="Punarvasu">పునర్వసు Punarvasu</option>
                <option value="Pushyami">పుష్యమి Pushyami</option>
                <option value="Aaslesha">ఆశ్లేష Aaslesha</option>
                <option value="Makha">మఖ Makha</option>
                <option value="Pubba">పుబ్బ / పూర్వ ఫల్గుణి Pubba / Poorva phalguni</option>
                <option value="Utthara">ఉత్తర / ఉత్తర ఫల్గుణి Utthara / Utthara phalguni</option>
                <option value="Hastha">హస్త Hastha</option>
                <option value="Chittha">చిత్త / చిత్ర Chittha /Chitra</option>
                <option value="Visakha">విశాఖ Visakha</option>
                <option value="Anuradha">అనురాధ Anuradha</option>
                <option value="Jyeshta">జ్యేష్ట Jyeshta</option>
                <option value="Moola">మూల Moola</option>
                <option value="Poorvashada">పూర్వాషాడ Poorvashada</option>
                <option value="Uttharashada">ఉత్తరాషాడ Uttharashada</option>
                <option value="Sravana">శ్రవణ Sravana</option>
                <option value="Dhanishta">ధనిష్ఠ Dhanishta</option>
                <option value="Sathabhisha">శతభిష Sathabhisha</option>
                <option value="Poorvabhadra">పూర్వాభాద్ర Poorvabhadra</option>
                <option value="Uttharabhadra">ఉత్తరాభాద్ర Uttharabhadra</option>
                <option value="Revathi">రేవతి Revathi</option>
                      <!-- Add more options as needed -->
                    </select>
                  </div>
                </div>
              </div>


              <!-- Dynamic fields -->
              <div id="dynamicFields" class="dynamic-fields"></div>
              <button type="button" onclick="addDynamicFields()">+</button>

              <!-- Normal fields after dynamic fields -->

              <div class="form_control">
                <label for="date">D.O.B<span class="required">*</span></label>
                <input type="date" id="date" name="date" required>
              </div>

              <div class="form_control">
                <label>Phone Number<span class="required">*</span></label>
                <input type="number" id="number" name="number" placeholder="Enter Number" required>
              </div>

              <br><br>

              <h3>ADDRESS:</h3>
              <div class="form_control">
                <label for="D_NO">D.NO/FLAT.NO/PLOT.NO <span class="required">*</span></label>
                <input id="D_NO" name="D_NO" placeholder=""  name="d.no"/>
              </div>
              <div class="form_control">
                <label for="Street">Street/Colony <span class="required">*</span></label>
                <input id="Street" name="Street" placeholder="Street"/>
              </div>
              <div class="form_control">
                <label for="LandMark">LandMark<span class="required">*</span></label>
                <input id="LandMark" name="LandMark" placeholder="LandMark"/>
              </div>
              <div class="form_control">
                <label for="Town">Town/City<span class="required">*</span></label>
                <input id="Town" name="Town" placeholder="Town"/>
              </div>
              <div class="form_control">
                <label for="Pincode">Pincode<span class="required">*</span></label>
                <input id="Pincode" name="Pincode" placeholder="Pincode"/>
              </div><br>

            </div>

          </div>
          <button type="submit" onclick="submitForm()">Send Message</button>
          <input type="hidden" name="submit-to-google-sheet" value="submit">

            <input type="submit" value="send message" class="button btn-primary" id="submit"/>
          </form>
          <div id="popup" class="popup">
             <p>Thank you for joining Vedamayee!</p>
           </div>
    </div>
      </div>
  </div>

  <script>

  function submitForm() {
   // Your form submission logic here

   // Display the popup after form submission
   document.getElementById('popup').style.display = 'block';
 }
    let dynamicFieldCount = 0;

    function addDynamicFields() {
      if (dynamicFieldCount < 5) {
        dynamicFieldCount++;
        const dynamicFieldsDiv = document.getElementById('dynamicFields');
        const dynamicFieldContainer = document.createElement('div');

        // Add labels and inputs for dynamic fields
        dynamicFieldContainer.innerHTML = `
          <label for="dynamicName${dynamicFieldCount}"><b>Name${dynamicFieldCount}</b>:</label>
          <input type="text" id="dynamicName${dynamicFieldCount}" name="Name${dynamicFieldCount}[]" placeholder="Enter Name${dynamicFieldCount}" required>
          <br>
          <label for="dynamicRelation${dynamicFieldCount}"><b>Relation</b>:</label>
          <input type="text" id="dynamicRelation${dynamicFieldCount}" name="Relation${dynamicFieldCount}[]" placeholder="Enter Relation" required>
          <br>
          <label for="dynamicNakshtram${dynamicFieldCount}"><b>Nakshtram ${dynamicFieldCount}</b>:</label>
          <select id="dynamicNakshtram${dynamicFieldCount}" name="Nakshtram${dynamicFieldCount}[]" aria-label="Select Nakshtram ${dynamicFieldCount}">
            <option value="select"> -- select--</option>
            <option value="Aswini">అశ్విని Aswini</option>
            <option value="Bharani">భరణి Bharani</option>
              <option value="Krutthika">కృత్తిక Krutthika</option>
              <option value="Rohini">రోహిణి Rohini</option>
              <option value="Mrugasira">మృగశిర Mrugasira</option>
              <option value="Aarddha">ఆర్ధ / ఆరుద్ర Aarddha/ Aarudra</option>
              <option value="Punarvasu">పునర్వసు Punarvasu</option>
              <option value="Pushyami">పుష్యమి Pushyami</option>
              <option value="Aaslesha">ఆశ్లేష Aaslesha</option>
              <option value="Makha">మఖ Makha</option>
              <option value="Pubba">పుబ్బ / పూర్వ ఫల్గుణి Pubba / Poorva phalguni</option>
              <option value="Utthara">ఉత్తర / ఉత్తర ఫల్గుణి Utthara / Utthara phalguni</option>
              <option value="Hastha">హస్త Hastha</option>
              <option value="Chittha">చిత్త / చిత్ర Chittha /Chitra</option>
              <option value="Visakha">విశాఖ Visakha</option>
              <option value="Anuradha">అనురాధ Anuradha</option>
              <option value="Jyeshta">జ్యేష్ట Jyeshta</option>
              <option value="Moola">మూల Moola</option>
              <option value="Poorvashada">పూర్వాషాడ Poorvashada</option>
              <option value="Uttharashada">ఉత్తరాషాడ Uttharashada</option>
              <option value="Sravana">శ్రవణ Sravana</option>
              <option value="Dhanishta">ధనిష్ఠ Dhanishta</option>
              <option value="Sathabhisha">శతభిష Sathabhisha</option>
              <option value="Poorvabhadra">పూర్వాభాద్ర Poorvabhadra</option>
              <option value="Uttharabhadra">ఉత్తరాభాద్ర Uttharabhadra</option>
              <option value="Revathi">రేవతి Revathi</option>
            <!-- Add more options as needed -->
          </select>
          <br>
        `;

        dynamicFieldsDiv.appendChild(dynamicFieldContainer);
      }
    }


    // ... Your existing JavaScript code ...

    // ... Your existing JavaScript code ...

    const form = document.forms['submit-to-google-sheet'];

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const formData = new FormData(form);

      // Iterate over dynamic fields and add them to the form data
      for (let i = 1; i <= dynamicFieldCount; i++) {
        const dynamicName = document.getElementById(`dynamicName${i}`);
        const dynamicRelation = document.getElementById(`dynamicRelation${i}`);
        const dynamicNakshtram = document.getElementById(`dynamicNakshtram${i}`);

        formData.append(`Name${i}[]`, dynamicName.value);
        formData.append(`Relation${i}[]`, dynamicRelation.value);
        formData.append(`Nakshtram${i}[]`, dynamicNakshtram.value);
      }

      fetch(form.action, {
        method: 'POST',
        body: formData,
      })
        .then(response => console.log('Successful!', response))
        .catch(error => console.error('Error!', error.message));
    });

    // ... Rest of your code ...






  </script>

</body>
</html>
